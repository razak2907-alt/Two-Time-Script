local friends = {}
local players = game:GetService("Players")
local v1 = players.LocalPlayer
local function getfriends()
	local friendsId = v1.Player.CharacterAppearanceId
	local PlayersFriends = {}
	local success, page = pcall(function() return players:GetFriendsAsync(friendsId) end)
	if success then
		repeat
			local info = page:GetCurrentPage()
			for i, friendInfo in pairs(info) do
				table.insert(PlayersFriends, friendInfo.Id)
			end
			if not page.IsFinished then 
				page:AdvanceToNextPageAsync()
			end
		until page.IsFinished
	end
	friends = PlayersFriends
end
getfriends()
for _, v in pairs(players:GetChildren()) do
	if v:IsA("Player") then
		local highlight = Instance.new("Highlight")
		highlight.Parent=v.Character
		highlight.FillColor=Color3.new(0.333333, 1, 0)
		if table.find(friends,tostring(v.Character.Name)) then
			highlight.FillColor=Color3.new(1, 0.666667, 0)
		end
		task.spawn(function()
			while wait(0.1) do
				if v.Character:FindFirstChild("Gun") or v.Backpack:FindFirstChild("Gun") then
					highlight.FillColor=Color3.new(0, 0.333333, 1)
				elseif v.Character:FindFirstChild("Knife") or v.Backpack:FindFirstChild("Knife") then
					highlight.FillColor=Color3.new(1, 0, 0)
				end
			end
		end)
	end
end
